<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Nando Coins - Compra e Venda de Coins</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #222831;
            color: #eeeeee;
        }

        .header {
            text-align: center;
            padding: 20px;
        }

        .header img {
            max-width: 100%;
            height: auto;
        }

        .notice {
            max-width: 900px;
            margin: 10px auto 20px;
            background-color: #198754;
            color: #ffffff;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            border: 1px solid #145c32;
        }

        .notice strong {
            font-weight: bold;
        }

        .container {
            max-width: 900px;
            margin: 0 auto 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 0 10px;
        }

        .card {
            background-color: #393e46;
            border-radius: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            width: 350px;
            max-width: 100%;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
        }

        .card img {
            max-width: 100%;
            height: 200px;
            object-fit: contain;
            margin-bottom: 10px;
        }

        .card h2 {
            margin: 10px 0;
            font-size: 24px;
        }

        .card p {
            margin: 8px 0;
            font-size: 14px;
        }

        .price-info {
            margin: 12px 0;
            font-size: 14px;
            line-height: 1.4;
        }

        .price-info strong {
            color: #ffd369;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }

        .btn {
            border: none;
            border-radius: 20px;
            padding: 10px;
            font-size: 14px;
            cursor: pointer;
            font-weight: bold;
            color: #222831;
            transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
        }

        .btn-green {
            background-color: #00c853;
        }

        .btn-orange {
            background-color: #ffb74d;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            opacity: 0.95;
        }

        .btn:active:not(:disabled) {
            transform: translateY(0);
            box-shadow: none;
        }

        .btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .form-area {
            max-width: 900px;
            margin: 0 auto 30px;
            padding: 0 10px;
        }

        .form-box {
            display: none;
            background-color: #393e46;
            border-radius: 12px;
            padding: 14px 16px 12px 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            font-size: 14px;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .form-header h3 {
            margin: 0;
            font-size: 16px;
        }

        .form-close {
            background: none;
            border: none;
            color: #eeeeee;
            font-size: 18px;
            cursor: pointer;
        }

        .form-box p {
            margin: 4px 0 8px 0;
            font-size: 13px;
        }

        .form-group {
            margin-bottom: 8px;
        }

        .form-group label {
            display: block;
            font-size: 13px;
            margin-bottom: 3px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 6px 8px;
            border-radius: 4px;
            border: 1px solid #393e46;
            background-color: #1e242c;
            color: #eeeeee;
            font-size: 13px;
            box-sizing: border-box;
        }

        .form-group input::placeholder {
            color: #aaaaaa;
        }

        .summary-box {
            margin-top: 8px;
            font-size: 13px;
            background-color: #1e242c;
            padding: 8px;
            border-radius: 6px;
            border: 1px dashed #393e46;
        }

        .summary-box strong {
            color: #ffd369;
        }

        .form-actions {
            margin-top: 10px;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            font-size: 13px;
        }

        .btn-cancel {
            background-color: #555;
            color: #eee;
            border-radius: 20px;
            border: none;
            padding: 7px 12px;
            cursor: pointer;
        }

        .whatsapp-btn {
            background-color: #25d366;
            color: #ffffff;
            border: none;
            border-radius: 20px;
            padding: 7px 12px;
            font-size: 13px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .whatsapp-btn img {
            height: 16px;
        }

        footer {
            border-top: 1px solid #222;
            padding: 10px 12px 18px 12px;
            text-align: center;
            font-size: 11px;
            color: #aaa;
        }

        footer a {
            color: #ffcc00;
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .card {
                width: 100%;
            }

            .notice,
            .form-area {
                margin: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="LogoNandoCoins.png" alt="" />
    </div>

    <div class="notice" id="textoAvisoTopo">
        <!-- preenchido via JS -->
    </div>

    <div class="container">
        <!-- Card DeusOT -->
        <div class="card" data-servidor="DeusOT">
            <img src="NandoDeusOT.png" alt="DeusOT" />
            <h2>DeusOT</h2>
            <div class="price-info" id="precoDeus">
                <!-- preenchido via JS -->
            </div>
            <div class="buttons">
                <button class="btn btn-green" id="btnComprarDeus" data-acao="comprar" data-servidor="DeusOT">Comprar coins</button>
                <button class="btn btn-orange" id="btnVenderDeus" data-acao="vender" data-servidor="DeusOT">Vender coins</button>
            </div>
        </div>

        <!-- Card RubinOT -->
        <div class="card" data-servidor="RubinOT">
            <img src="NandoRubinot.png" alt="RubinOT" />
            <h2>RubinOT</h2>
            <div class="price-info" id="precoRubin">
                <!-- preenchido via JS -->
            </div>
            <div class="buttons">
                <button class="btn btn-green" id="btnComprarRubin" data-acao="comprar" data-servidor="RubinOT">Comprar coins</button>
                <button class="btn btn-orange" id="btnVenderRubin" data-acao="vender" data-servidor="RubinOT">Vender coins</button>
            </div>
        </div>
    </div>

    <!-- Caixinha fixa que aparece só quando clica -->
    <div class="form-area">
        <div class="form-box" id="formBox">
            <div class="form-header">
                <h3 id="formTitulo">Operação</h3>
                <button class="form-close" id="btnFecharForm">&times;</button>
            </div>
            <p id="formSubtitulo">
                Preencha a quantidade de coins, seu nick e a forma de pagamento. O valor aproximado será calculado automaticamente.
            </p>

            <div class="form-group">
                <label for="inputQuantidade">Quantidade de coins</label>
                <input
                    type="number"
                    id="inputQuantidade"
                    placeholder="Ex: 100, 450, 1000..."
                    min="1"
                />
            </div>

            <div class="form-group">
                <label for="inputNick">Seu nick / personagem</label>
                <input type="text" id="inputNick" placeholder="Nick no jogo" />
            </div>

            <div class="form-group">
                <label for="inputPagamento">Forma de pagamento</label>
                <select id="inputPagamento">
                    <option value="PIX">PIX</option>
                    <option value="outro">Outro (combinar no WhatsApp)</option>
                </select>
            </div>

            <div class="summary-box" id="summaryBox">
                Selecione um servidor e uma operação acima para começar.<br />
                <strong>Observação:</strong> tudo será finalizado somente após a confirmação do PIX.
            </div>

            <div class="form-actions">
                <button class="btn-cancel" id="btnCancelar">Cancelar</button>
                <button class="whatsapp-btn" id="btnWhatsApp">
                    <img
                        src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
                        alt="WhatsApp"
                    />
                    Enviar no WhatsApp
                </button>
            </div>
        </div>
    </div>

    <footer>
        <p>Este site não é afiliado nem patrocinado pelo servidor Oficial do RubinOT ou DeusOT. Uso apenas para negociação informal de Coins.</p>
        <p style="margin-top: 4px;">
            Contato direto:
            <a href="https://wa.me/5511966542013" target="_blank">WhatsApp Nando Coins</a>
        </p>
    </footer>

    <script>
        // ---------------------------------------------------
        // CONFIGURAÇÕES FÁCEIS DE EDITAR
        // ---------------------------------------------------

        // Preços por 1.000 moedas em cada servidor
        const precos = {
            DeusOT: { compra: 71, venda: 78 },
            RubinOT: { compra: 81, venda: 86 }
        };

        // Disponibilidade por servidor e tipo de operação
        const disponibilidade = {
            DeusOT: { comprar: true,  vender: true },
            RubinOT: { comprar: true,  vender: true }
        };

        // Número do WhatsApp (apenas dígitos, com DDI+DDD)
        const numeroWhatsApp = "5511966542013";

        // Texto do aviso verde do topo
        const textoAvisoTopo =
            "<strong>Aviso:</strong> Cotações atualizadas diariamente. " +
            "Negociações apenas via WhatsApp oficial do Nando Coins. " +
            "Antes de finalizarmos qualquer operação, vamos confirmar tudo antes para não ter erro de valores.";

        // Texto padrão de observação sobre PIX
        const textoObservacaoPix =
            "<strong>Observação:</strong> tudo será finalizado somente após a confirmação do PIX.";

        // ---------------------------------------------------
        // LÓGICA DO SITE
        // ---------------------------------------------------

        let operacaoAtual = null; // "comprar" ou "vender"
        let servidorAtual = null; // "DeusOT" ou "RubinOT"
        let indisponivelAtual = false;

        const avisoTopoDiv  = document.getElementById("textoAvisoTopo");
        const precoDeusDiv  = document.getElementById("precoDeus");
        const precoRubinDiv = document.getElementById("precoRubin");

        const btnComprarDeus = document.getElementById("btnComprarDeus");
        const btnVenderDeus  = document.getElementById("btnVenderDeus");
        const btnComprarRubin = document.getElementById("btnComprarRubin");
        const btnVenderRubin  = document.getElementById("btnVenderRubin");

        const formBox       = document.getElementById("formBox");
        const formTitulo    = document.getElementById("formTitulo");
        const formSubtitulo = document.getElementById("formSubtitulo");
        const btnFecharForm = document.getElementById("btnFecharForm");

        const inputQuantidade = document.getElementById("inputQuantidade");
        const inputNick       = document.getElementById("inputNick");
        const inputPagamento  = document.getElementById("inputPagamento");
        const summaryBox      = document.getElementById("summaryBox");
        const btnWhatsApp     = document.getElementById("btnWhatsApp");
        const btnCancelar     = document.getElementById("btnCancelar");

        avisoTopoDiv.innerHTML = textoAvisoTopo;
        precoDeusDiv.innerHTML =
            `Compro: <strong>R$ ${precos.DeusOT.compra.toFixed(2).replace(".", ",")} / 1.000 moedas</strong><br>` +
            `Vendo: <strong>R$ ${precos.DeusOT.venda.toFixed(2).replace(".", ",")} / 1.000 moedas</strong>`;
        precoRubinDiv.innerHTML =
            `Compro: <strong>R$ ${precos.RubinOT.compra.toFixed(2).replace(".", ",")} / 1.000 moedas</strong><br>` +
            `Vendo: <strong>R$ ${precos.RubinOT.venda.toFixed(2).replace(".", ",")} / 1.000 moedas</strong>`;

        function aplicarDisponibilidade() {
            if (!disponibilidade.DeusOT.comprar) {
                btnComprarDeus.textContent = "Comprar (indisponível)";
                btnComprarDeus.disabled = true;
            }
            if (!disponibilidade.DeusOT.vender) {
                btnVenderDeus.textContent = "Vender (indisponível)";
                btnVenderDeus.disabled = true;
            }
            if (!disponibilidade.RubinOT.comprar) {
                btnComprarRubin.textContent = "Comprar (indisponível)";
                btnComprarRubin.disabled = true;
            }
            if (!disponibilidade.RubinOT.vender) {
                btnVenderRubin.textContent = "Vender (indisponível)";
                btnVenderRubin.disabled = true;
            }
        }
        aplicarDisponibilidade();

        function abrirFormulario(acao, servidor) {
            operacaoAtual = acao;
            servidorAtual = servidor;
            indisponivelAtual = !disponibilidade[servidor][acao];

            const textoOperacao =
                acao === "comprar" ? "Comprar coins" : "Vender coins";

            formTitulo.textContent = `${textoOperacao} - ${servidor}`;

            if (indisponivelAtual) {
                formSubtitulo.textContent =
                    "No momento esta operação está indisponível para este servidor. Você ainda pode me chamar no WhatsApp para verificar disponibilidade.";
            } else {
                formSubtitulo.textContent =
                    "Preencha a quantidade de coins, seu nick e a forma de pagamento. O valor aproximado será calculado automaticamente.";
            }

            inputQuantidade.value = "";
            inputNick.value = "";
            inputPagamento.value = "PIX";

            summaryBox.innerHTML =
                (indisponivelAtual
                    ? "Esta operação está marcada como indisponível no momento.<br>"
                    : "Preencha os dados para ver o resumo da negociação.<br>") +
                textoObservacaoPix;

            formBox.style.display = "block";
            window.scrollTo({ top: formBox.offsetTop - 20, behavior: "smooth" });
        }

        function fecharFormulario() {
            formBox.style.display = "none";
            operacaoAtual = null;
            servidorAtual = null;
            indisponivelAtual = false;
        }

        function atualizarResumo() {
            const qtdMoedas = parseInt(inputQuantidade.value, 10) || 0;
            const nick      = inputNick.value.trim();
            const formaPag  = inputPagamento.value;

            if (!servidorAtual || !operacaoAtual || !qtdMoedas) {
                summaryBox.innerHTML =
                    (indisponivelAtual
                        ? "Esta operação está marcada como indisponível no momento.<br>"
                        : "Preencha os dados para ver o resumo da negociação.<br>") +
                    textoObservacaoPix;
            } else {
                const dadosServidor = precos[servidorAtual];
                const tipoPreco     = operacaoAtual === "comprar" ? "venda" : "compra";
                const precoPorMil   = dadosServidor[tipoPreco];
                const valorTotal    = (qtdMoedas / 1000) * precoPorMil;
                const valorTexto    = "R$ " + valorTotal.toFixed(2).replace(".", ",");

                const textoOperacaoResumo =
                    operacaoAtual === "comprar"
                        ? "comprar coins de mim"
                        : "vender suas coins para mim";

                let textoIndisp = "";
                if (indisponivelAtual) {
                    textoIndisp =
                        "<br><strong>Atenção:</strong> esta operação está marcada como indisponível agora. Use a mensagem apenas para combinar ou verificar disponibilidade.";
                }

                summaryBox.innerHTML =
                    `Você quer <strong>${textoOperacaoResumo}</strong> no servidor <strong>${servidorAtual}</strong><br>` +
                    `Quantidade: <strong>${qtdMoedas} coins</strong><br>` +
                    `Valor aproximado: <strong>${valorTexto}</strong><br>` +
                    (nick ? `Personagem: <strong>${nick}</strong><br>` : "") +
                    `Pagamento: <strong>${formaPag}</strong><br>` +
                    textoObservacaoPix +
                    textoIndisp;
            }
        }

        function enviarWhatsApp() {
            const qtdMoedas = parseInt(inputQuantidade.value, 10) || 0;
            const nick      = inputNick.value.trim();
            const formaPag  = inputPagamento.value;

            if (!servidorAtual || !operacaoAtual) {
                alert("Selecione primeiro um servidor e a operação (comprar/vender).");
                return;
            }
            if (!qtdMoedas || qtdMoedas <= 0) {
                alert("Informe uma quantidade válida de coins.");
                return;
            }
            if (!nick) {
                alert("Informe o nick do personagem.");
                return;
            }

            const dadosServidor = precos[servidorAtual];
            const tipoPreco   = operacaoAtual === "comprar" ? "venda" : "compra";
            const precoPorMil = dadosServidor[tipoPreco];
            const valorTotal  = (qtdMoedas / 1000) * precoPorMil;
            const valorTexto  = "R$ " + valorTotal.toFixed(2).replace(".", ",");

            const textoOperacaoMsg =
                operacaoAtual === "comprar"
                    ? "*QUERO COMPRAR COINS*"
                    : "*QUERO VENDER COINS*";

            let textoDisponibilidade = "";
            if (indisponivelAtual) {
                textoDisponibilidade =
`\n\n*Aviso do site:* Esta operação está marcada como *indisponível no momento* para este servidor.
Estou entrando em contato apenas para verificar/combinar disponibilidade.`;
            }

            const mensagem =
`*Olá, Nando!*

${textoOperacaoMsg}

━━━━━━━━━━━━━━
*Servidor:* ${servidorAtual}
*Quantidade:* ${qtdMoedas} coins
*Valor aproximado:* ${valorTexto}
*Personagem:* ${nick}
*Pagamento desejado:* ${formaPag}
━━━━━━━━━━━━━━
*Condições:*
- Cotação sujeita à confirmação no momento da negociação.
- Entrega das coins após a confirmação do pagamento (PIX ou combinado).${textoDisponibilidade}

Pode me confirmar a cotação e a disponibilidade, por favor?`;

            const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensagem)}`;
            window.open(url, "_blank");
        }

        document.querySelectorAll(".btn[data-acao]").forEach((btn) => {
            btn.addEventListener("click", (e) => {
                if (btn.disabled) return;
                const acao     = e.currentTarget.getAttribute("data-acao");
                const servidor = e.currentTarget.getAttribute("data-servidor");
                abrirFormulario(acao, servidor);
            });
        });

        inputQuantidade.addEventListener("input", atualizarResumo);
        inputNick.addEventListener("input", atualizarResumo);
        inputPagamento.addEventListener("change", atualizarResumo);

        btnWhatsApp.addEventListener("click", enviarWhatsApp);
        btnCancelar.addEventListener("click", fecharFormulario);
        btnFecharForm.addEventListener("click", fecharFormulario);
    </script>
</body>
</html>
